@startuml Kleff Hosting - Billing Use Cases
left to right direction
skinparam shadowing false
skinparam usecase {
  BackgroundColor #FAFAFA
  BorderColor #455A64
  RoundCorner 14
}

' ==== Actors ====
actor "Developer" as AuthUser #silver
actor "Project Owner" as Owner #lightblue
actor "Collaborator" as Collab #lightgreen
actor "System Administrator" as Admin #orange
actor "Payment Gateway" as Payment #green
actor "Time" as TimeActor #gray

Owner -|> AuthUser
Collab -|> AuthUser

rectangle "Kleff Hosting Platform" {

  package "Billing" #B3E5FC {
    usecase "UC-40: View Billing Dashboard" as UC40
    usecase "UC-41: Pay Invoice" as UC41
    usecase "UC-42: Download Invoice" as UC42
    usecase "UC-43: Update Payment Method" as UC43
    usecase "UC-44: View Bill History" as UC44

    ' NEW Automatic time-based billing use cases
    usecase "UC-45: Generate Monthly Bills" as UC45
    usecase "UC-46: Send Billing Reminders" as UC46
  }
}

' ==== Actor Relationships ====
AuthUser -- UC40

Owner -- UC41
Owner -- UC42
Owner -- UC43

' ==== Time-based System Triggers ====
TimeActor ..> UC45 : <<system trigger>>\nMonthly cycle
TimeActor ..> UC46 : <<system trigger>>\nReminder schedule

' ==== External System Trigger ====
UC41 ..> Payment : <<system trigger>>\nPayment processing

' ==== EXTENDS ====
UC42 .> UC41 : <<extends>>
UC43 .> UC41 : <<extends>>

' ==== INCLUDES ====
UC40 ..> UC44 : <<includes>>

@enduml
